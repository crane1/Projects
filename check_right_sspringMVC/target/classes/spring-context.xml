<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	必须有xmlns和xmlns:xsi这两个
	xmlns后面紧跟的是命名空间 命名空间对应的URI是一个存放XSD的地址
	xsi：shemaLocation后面跟的是命名空间对应class的文件位置 
	schemaLocation提供了一个xml 命名空间到对应的XSD(Xml Schema Definition)文件的一个映射，它的值由一个或多个URI引用对组成，
	两个URI之间以空白符分隔（空格和换行均可）。第一个URI是定义的 XML命名空间的值，第二个URI给出Schema文档的实际位置，
	Schema处理器将从这个位置读取Schema文档，该文档的targetNamespace必须与第一个URI(XML命名空间的值)相匹配。
	
	我们打开Spring-aop-4.1.6RELEASE.jar （这是我本地的版本），这个包下有一个META_INF文件夹，其中有两个文件：spring.handlers和spring.schemas。
	Spring是把XSD文件放到本地了，再在spring.schemas里做了一个映射，优先从本地里加载XSD文件。
-->
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans  
                        http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- HandlerMapping -->  
    <bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/>  
       
    <!-- HandlerAdapter -->  
    <bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>  
	
	<!-- ViewResolver -->  
	<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">  
	    <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>  
	    <property name="prefix" value="/WEB-INF/html/"/>  
	    <property name="suffix" value=".html"/>
	</bean> 
	
	<!-- 配置各层的bean组件 -->
	<bean id="dbUtil" class="com.lizem.check_right.tools.DButil">
		<property name="driver" value="com.mysql.jdbc.Driver"></property>
		<property name="url" value="jdbc:mysql://localhost:3306/test"></property>
		<property name="username" value="root"></property>
		<property name="pwd" value="root"></property>
	</bean>
	
	<bean id="loginDAO" class="com.lizem.check_right.dao.LoginDAOImp">
		<property name="db" ref="dbUtil"></property>
	</bean>
	
	<bean id="loginService" class="com.lizem.check_right.service.LoginServiceImp">
		<property name="loginDAO" ref="loginDAO"></property>
	</bean>
	
	<!-- 配置controller -->
	<!-- 用“Url样式”来定义一个控制器Bean的名字，前面必须加'/'，否则会报404，此时这个‘index.action’被
		作为一个bean组件来使用，而不是一个controller的映射 -->
	<bean name="/index.action" class="com.lizem.check_right.controller.IndexController">
	</bean>
	
	<!-- 仔细看日志信息会有，信息: Mapped URL path [/login.action] onto handler '/login.action' -->
	<bean name="/login.action" class="com.lizem.check_right.controller.LoginController">
		<property name="loginService" ref="loginService"></property>
	</bean>
	
	<bean name="/getUser.action" class="com.lizem.check_right.controller.UserController">
	</bean>
	
</beans>                        